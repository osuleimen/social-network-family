# üîÑ –û—Ç—á–µ—Ç –æ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–µ Social Network Family

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

### 1. –û—á–∏—Å—Ç–∫–∞ Docker –∫—ç—à–∞
- ‚úÖ –û—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã —Å—Ç–∞—Ä—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
- ‚úÖ –£–¥–∞–ª–µ–Ω—ã —Å—Ç–∞—Ä—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
- ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–∞ –æ—á–∏—Å—Ç–∫–∞ —Å–∏—Å—Ç–µ–º—ã Docker (`docker system prune -f`)
- ‚úÖ –£–¥–∞–ª–µ–Ω—ã –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –æ–±—Ä–∞–∑—ã –∏ —Å–µ—Ç–∏

### 2. –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–æ–≤
- ‚úÖ Backend –æ–±—Ä–∞–∑ –ø–µ—Ä–µ—Å–æ–±—Ä–∞–Ω —Å `--no-cache`
- ‚úÖ Frontend –æ–±—Ä–∞–∑ –ø–µ—Ä–µ—Å–æ–±—Ä–∞–Ω —Å `--no-cache`
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω Dockerfile –¥–ª—è frontend (IP –∞–¥—Ä–µ—Å backend)

### 3. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ç–µ–≤–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ —Å–µ—Ç—å `grampsweb_social_network` —Å –ø–æ–¥—Å–µ—Ç—å—é `172.20.0.0/16`
- ‚úÖ –ù–∞–∑–Ω–∞—á–µ–Ω—ã —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ IP –∞–¥—Ä–µ—Å–∞:
  - **Backend**: `172.20.0.10:5000`
  - **Frontend**: `172.20.0.20:80`
  - **PostgreSQL**: `172.20.0.30:5432`
  - **Redis**: `172.20.0.40:6379`

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–≤–µ—Ä—Å-–ø—Ä–æ–∫—Å–∏
- ‚úÖ Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞
- ‚úÖ IP –∞–¥—Ä–µ—Å–∞ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Ä–µ–∞–ª—å–Ω—ã–º
- ‚úÖ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–µ–Ω nginx —Å –æ—á–∏—Å—Ç–∫–æ–π –∫—ç—à–∞

## üöÄ –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤

### –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã:
```bash
CONTAINER ID   IMAGE                              STATUS
30951df508c6   social_network_frontend_dev        Up (Frontend)
58d955661970   social_network_backend_dev         Up (Backend)
e3d8c73d7275   redis:7.4-alpine                  Up (Redis)
b075d7a1d812   postgres:16-alpine                Up (PostgreSQL)
```

### –°–µ—Ç–µ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:
- **–°–µ—Ç—å**: `grampsweb_social_network`
- **–ü–æ–¥—Å–µ—Ç—å**: `172.20.0.0/16`
- **Gateway**: `172.20.0.1`

### –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–µ—Ä–≤–∏—Å–æ–≤:

#### –õ–æ–∫–∞–ª—å–Ω—ã–π –¥–æ—Å—Ç—É–ø:
- **Frontend**: http://localhost:3001 ‚úÖ
- **Backend API**: http://localhost:5001 ‚úÖ

#### –í–Ω–µ—à–Ω–∏–π –¥–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ nginx:
- **Frontend**: https://my.ozimiz.org ‚úÖ
- **Backend API**: https://my.ozimiz.org/api ‚úÖ

## üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. Docker-compose –ø—Ä–æ–±–ª–µ–º—ã
- **–ü—Ä–æ–±–ª–µ–º–∞**: –û—à–∏–±–∫–∞ `http+docker` scheme
- **–†–µ—à–µ–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –ø—Ä—è–º–æ–π `docker` –≤–º–µ—Å—Ç–æ `docker-compose`

### 2. –°–µ—Ç–µ–≤—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
- **–ü—Ä–æ–±–ª–µ–º–∞**: Frontend –Ω–µ –º–æ–≥ –Ω–∞–π—Ç–∏ backend
- **–†–µ—à–µ–Ω–∏–µ**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω IP –∞–¥—Ä–µ—Å –≤ nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ frontend

### 3. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è nginx
- **–ü—Ä–æ–±–ª–µ–º–∞**: –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ IP –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞–ª–∏ —Ä–µ–∞–ª—å–Ω—ã–º
- **–†–µ—à–µ–Ω–∏–µ**: –ù–∞–∑–Ω–∞—á–µ–Ω—ã —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ IP –∞–¥—Ä–µ—Å–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### Frontend —Ç–µ—Å—Ç:
```bash
curl -I http://localhost:3001
HTTP/1.1 200 OK
Server: nginx/1.27.5
```

### Backend API —Ç–µ—Å—Ç:
```bash
curl -I http://localhost:5001/api/ai/status
HTTP/1.1 200 OK
Server: Werkzeug/3.1.3 Python/3.12.11
```

### –í–Ω–µ—à–Ω–∏–π –¥–æ—Å—Ç—É–ø —Ç–µ—Å—Ç:
```bash
curl -I https://my.ozimiz.org
HTTP/2 200 
server: nginx
```

### API —á–µ—Ä–µ–∑ —Ä–µ–≤–µ—Ä—Å-–ø—Ä–æ–∫—Å–∏:
```bash
curl -I https://my.ozimiz.org/api/ai/status
HTTP/2 200 
server: nginx
```

## üéØ –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤:
```bash
# Backend
docker run -d --name social_network_backend_dev \
  --network grampsweb_social_network --ip 172.20.0.10 \
  -p 5001:5000 -v $(pwd)/backend:/app \
  -e FLASK_ENV=development \
  -e DATABASE_URL=postgresql://postgres:postgres@172.20.0.30:5432/social_network \
  social_network_backend_dev

# Frontend
docker run -d --name social_network_frontend_dev \
  --network grampsweb_social_network --ip 172.20.0.20 \
  -p 3001:80 social_network_frontend_dev
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞:
```bash
docker ps | grep social
docker network inspect grampsweb_social_network
```

### –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ nginx:
```bash
systemctl reload nginx
```

## ‚úÖ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–í—Å–µ —Å–µ—Ä–≤–∏—Å—ã —É—Å–ø–µ—à–Ω–æ –ø–µ—Ä–µ—Å–æ–±—Ä–∞–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ:

- ‚úÖ **Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã**: –ü–µ—Ä–µ—Å–æ–±—Ä–∞–Ω—ã —Å –æ—á–∏—Å—Ç–∫–æ–π –∫—ç—à–∞
- ‚úÖ **–°–µ—Ç–µ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞
- ‚úÖ **–†–µ–≤–µ—Ä—Å-–ø—Ä–æ–∫—Å–∏**: –†–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ **SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã**: –ê–∫—Ç–∏–≤–Ω—ã
- ‚úÖ **API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã**: –î–æ—Å—Ç—É–ø–Ω—ã –ª–æ–∫–∞–ª—å–Ω–æ –∏ —á–µ—Ä–µ–∑ –¥–æ–º–µ–Ω
- ‚úÖ **Frontend**: –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–ü—Ä–æ–µ–∫—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** üéâ

---
*–û—Ç—á–µ—Ç —Å–æ–∑–¥–∞–Ω: $(date)*
*–°—Ç–∞—Ç—É—Å: ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û*
